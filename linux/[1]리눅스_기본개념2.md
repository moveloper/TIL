> 이 내용은 한빛미디어에서 출간한 <이것이 우분투 리눅스다> 내용을 토대로 제작 되었습니다.   
> 도서 자세히 알아보기: https://www.hanbit.co.kr/store/books/look.php?p_code=B3658372395
> 
# 리눅스 기초 개념들(2)

## 네트워크 관련 용어들과 명령어
* TCP/IP
  * 컴퓨터끼리 네트워크상으로 의사소통을 하는 "프로토콜"중 가장 널리 사용되는 프로토콜의 한 종류
  * 통신의 전송/수신을 다루는 TCP와 데이터 통신을 다루는 IP로 구성된다.
* 호스트 이름과 도메인 이름
  * 호스트 이름은 각각의 컴퓨터에 지정된 이름
  * 도메인 이름은 hanbit.co.kr과 같은 형식
* IP 주소
  * 각 컴퓨터의 랜카드에 부여되는 중복되지 않는 유일한 주소
  * 4바이트로 이루어져 있으며, 각 자리는 0~255까지의 숫자
    *  ex) Server 컴퓨터의 IP 주소는 192.168.111.100  
* 네트워크 주소
  * 같은 네트워크에 속해 있는 공통된 주소
    * ex) 네트워크 주소는 192.168.111.0
* 브로드캐스트 주소
  * 내부 네트워크의 모든 컴퓨터가 듣게 되는 주소
  * 현재 주소의 제일 끝자리를 255로 바꾼 주소(C클래스)
* 게이트웨이, 라우터
  * 라우터 = 게이트웨이
  * 네트워크 간에 데이터를 전송하는 컴퓨터 또는 장비
  * VMware의 게이트웨이 주소는 192.168.111.2로 고정
* 넷마스크 & 클래스
  * 넷마스크: 네트워크의 규모를 결정(예:255.255.255.0 - C클래스)
* DNS(Domain Name System)서버(=네임서버) 주소
  * URL을 해당 컴퓨터의 IP주소로 변환해주는 서버
  * 설정 파일은 `/etc/resolv.conf`
  * VMware를 사용하면 VMware가 192.168.111.2번을 게이트웨이 및 DNS 서버로, 192.168.111.254를 DHCP 서버로 설정함. 
* 우분투는 랜카드를 ens32 또는 ens33으로 할당한다.
  * `ifconfig ens32 또는 ens33`: 네트워크 설정 정보를 출력
  * `ifdown ens32 또는 ens33`: 네트워크 장치를 정지
  * `ifup ens32 또는 ens33`: 네트워크 장치를 가동
* 중요한 네트워크 관련 명령어들
  * `nm-connection-editor 또는 nmtui`
    * 네트워크와 관련된 대부분의 작업을 이 명령어에서 수행
      * 자동 IP 주소 또는 고정 IP주소 사용 결정
      * IP 주소, 서브넷 마스크, 게이트웨이 정보 입력
      * DNS 정보 입력
      * 네트워크 카드 드라이버 설정
      * 네트워크 장치(ens32)의 설정
* `systemctl <start/stop/restart/status> networking`
  * 네트워크의 설정을 변경한 후에, 변경된 내용을 시스템에 적용시키는 명령어
* `ifconfig <장치이름>`: 장치의 IP주소 설정 정보를 출력
* `nslookup`: DNS 서버의 작동을 테스트
* `ping <IP주소 또는 URL>`: 해당 컴퓨터가 네트워크상에서 응답하는지를 테스트하는 간편한 명령어

## 파이프, 필터, 리디렉션
* **파이프**는 두 개의 프로그램을 연결하는 연결통로
* '|'를 사용
  * `ls -l /etc | more` 1페이지씩 나눠서 보겠다는 의미
  * https://hwan-shell.tistory.com/324 : 파이프의 작동방식
* **필터**는 필요한 것만 걸러주는 명령어
* `grep, tail, wc, sort, awk, sed` 등이고 `grep`을 자주사용
* 주로 파이프랑 같이 씀
  * `ps -ef | grep bash` ps -ef는 모든 프로세스 번호를 출력하는데, 결과가 많으니 bash라는 단어가 들어가는 것만 출력하겠다는 의미
* **리디렉션**은 표준 입출력 방향을 바꿔준다.
  * `ls -l > list.txt` 화면으로 출력하는게 아니라 list.txt 파일로 저장하겠다는 뜻
  * 기존 파일의 내용을 삭제하고 새로 결과를 저장할 때는 >를, 기존 파일의 내용 뒤에 결과를 추가할 때는 >>를 사용한다.

## 프로세스, 데몬
* 프로세스란?
* 하드디스크에 저장된 실행코드(프로그램)가 메모리에 로딩되어 활성화된 것 
    * 포그라운드 vs 백그라운드  
    화면에서 사용자와 상호작용을 하는가? 안하는가?
    대부분의 응용프로그램 / 백신 프로그램, 서버 데몬
* 프로세스 번호: 각각의 프로세스에 할당된 고유 번호
* 작업 번호: 현재 실행되고 있는 백그라운드 프로세스의 순차 번호
* 파이어 폭스의 **부모 프로세스**인 X 윈도 프로세스를 종료하면 **자식 프로세스**인 파이어 폭스의 프로세스도 종료된다. 
* 프로세스 관련 명령
  * `ps`: 현재 프로세스의 상태를 확인
    * `ps -ef | grep <프로세스 이름>` 자주 사용!! 프로세스의 번호와 상태를 확인할 때 사용한다
  * `kill`: 프로세스를 강제로 종료
    * `kill -9 <프로세스 번호>`
  * `pstree`: 부모 프로세스와 자식 프로세스의 관계를 트리로 보여줌
  * `<프로세스 이름> &` 백그라운드로 프로세스를 실행하겠다는 의미

## 서비스와 소켓
* 서비스 = 데몬 = 서버 프로세스
  * 시스템과 독자적으로 구동되어 제공하는 프로세스. 예로 웹 서버, DB 서버, FTP 서버 등이 있다.
  * 실행 및 종료는 대개 `systemctl start/stop/restart 서비스이름`으로 사용한다. 
  * 서비스의 실행 스크립트 파일은 `/lib/systemd/system/` 디렉터리에 `서비스이름.service`라는 이름으로 확인 가능. 예로 Cron 서비스는 cron.service라는 이름의 파일로 존재
  * 터미널에서 `systemctl list-unit-files` 명령을 실행하면 현재 사용(enabled)과 사용 안함(disabled)을 확인할 수 있다.
* 서비스는 항상 가동되지만, 소켓은 외부에서 특정 서비스를 요청할 경우에 systemd가 구동시킨다. 그리고 요청이 끝나면 소켓도 종료된다.
* 소켓과 관련된 스크립트 파일은 `/lib/systemd/system/` 디렉터리에 `소켓이름.socket`이라는 파일로 존재

## 모듈과 커널 컴파일의 필요성
* 모듈: 필요할 때마다 호출하여 사용되는 코드 
* 커널: 가장 큰 역할은 '하드웨어 지원'인데 하드웨어가 많아지면서 커널의 크기도 점점 커지는 문제가 발생했다. 그래서 코드를 커널에 넣지 않고 모듈로 분리해 필요할 때 호출하게 됨
* 이러한 모듈과 커널의 분리가 우분투에 설정되어 있는데, 이는 개개인의 사용자에게 완벽하게 들어맞지 않는다. 이 때 코드를 수정해 다시 컴파일하거나 최신 커널로 업그레이드하는 방법들을 사용할 수 있다. 